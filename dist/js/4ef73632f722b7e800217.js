(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{198:function(t,e,i){},209:function(t,e,i){"use strict";var s=i(198);i.n(s).a},231:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("mt-field",{attrs:{label:"标题",placeholder:"请输入任务标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),i("mt-field",{attrs:{label:"备注",placeholder:"备注",type:"textarea",rows:"4"},model:{value:t.detail,callback:function(e){t.detail=e},expression:"detail"}}),t._v(" "),i("mt-field",{attrs:{label:"日期",placeholder:"请输入日期",type:"date"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),i("div",{staticClass:"mint-cell-wrapper mint-field"},[t._m(0),t._v(" "),i("div",{staticClass:"mint-cell-value",on:{click:t.toggle}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.person,expression:"person"}],staticClass:"mint-field-core",attrs:{placeholder:"请点击选择",type:"text"},domProps:{value:t.person},on:{input:function(e){e.target.composing||(t.person=e.target.value)}}}),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),i("div",{staticClass:"mint-field-other"})])]),t._v(" "),i("mt-button",{attrs:{type:"primary",size:"large"},on:{click:t.confirm}},[t._v("确认")]),t._v(" "),i("mt-popup",{staticClass:"popup",attrs:{position:"bottom"},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[i("mt-button",{attrs:{type:"primary",size:"large"},on:{click:t.toggle}},[t._v("确认")]),t._v(" "),i("mt-picker",{attrs:{slots:t.slots},on:{change:t.onValuesChange}})],1)],1)};s._withStripped=!0;var a={data:function(){return{popupVisible:!1,date:"",title:"",detail:"",person:"",person_id:"",userdata:{},slots:[{flex:1,values:["自己"],className:"slot1",textAlign:"center"}]}},created:function(){var t=this;if(JSON.parse(window.localStorage.getItem("userdata"))){var e=JSON.parse(window.localStorage.getItem("userdata"));(this.userdata=e).friendlist.forEach(function(e,i){t.slots[0].values.push(e.name+"-"+e.phonenum)})}else this.$router.push({name:"login"})},methods:{onValuesChange:function(t,e){e[0]>e[1]&&t.setSlotValue(1,e[0]),this.person=e[0]},toggle:function(){this.popupVisible=!this.popupVisible;var t=this.slots[0].values.indexOf(this.person);this.person_id=0<t?this.userdata.friendlist[t-1].id:null},confirm:function(){var t=this;this.$axios.post("mission",{title:this.title,detail:this.detail,add_time:new Date,goal_time:this.date,to_user:this.person,to_user_id:this.person_id}).then(function(e){1===e.data.state&&(t.$messagebox("添加成功"),t.title="",t.detail="",t.date="",t.person="")}).catch(function(t){console.log(t)})}}},l=(i(209),i(15)),n=Object(l.a)(a,s,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mint-cell-title"},[i("span",{staticClass:"mint-cell-text"},[t._v("分配")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mint-field-clear",staticStyle:{display:"none"}},[e("i",{staticClass:"mintui mintui-field-error"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"mint-field-state is-default"},[e("i",{staticClass:"mintui mintui-field-default"})])}],!1,null,"e0b0f5a2",null);n.options.__file="src/components/addMission/addMission.vue",e.default=n.exports}}]);